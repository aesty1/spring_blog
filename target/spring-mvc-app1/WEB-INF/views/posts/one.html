<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Get one</title>
</head>
<body>
    <a th:text="${post.getAuthor().getName()}" th:href="@{/authors/{id}(id = ${post.getAuthor().getAuthor_id()})}"></a>

    <br>

    <h1 th:text="${post.getName()}"></h1>
    <p th:text="${post.getUpload_time()}"></p>

    <br>

    <p th:text="${post.getContent()}"></p>

    <br>

    <form th:method="delete" th:action="@{/posts/{id}(id=${post.getPost_id()})}">
        <button type="submit">Удалить статью</button>
    </form>

    <br>

    <a th:href="@{/posts/{id}/edit(id=${post.getPost_id()})}">Изменить статью</a>

    <br>
    <br>
    <br>

    <div th:each="comment : ${comments}">
        <p th:text="${comment.getAuthor_name()}"></p>
        <p th:text="${comment.getUpload_time()}"></p>
        <p th:text="${comment.getContent()}"></p>
        <form th:method="delete" th:object="${comment}" th:action="@{/comments/{id}(id = ${comment.getComment_id()})}">
            <button type="submit">Удалить комментарий</button>
        </form>
        <br>
        <br>

    </div>

    <br>
    <div>
        <form method="post" th:object="${comment}" th:action="@{/comments/{id}(id = ${post.getPost_id()})}">
            <input placeholder="Имя" type="text" th:field="*{author_name}">
            <input placeholder="Текст" type="text" th:field="*{content}">

            <br>

            <button type="submit">Отправить комментарий</button>
        </form>
    </div>

</body>
</html>